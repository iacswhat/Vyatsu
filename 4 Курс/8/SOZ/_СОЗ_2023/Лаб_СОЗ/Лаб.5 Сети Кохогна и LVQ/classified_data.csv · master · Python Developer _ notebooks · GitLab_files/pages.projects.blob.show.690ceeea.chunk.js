(this.webpackJsonp=this.webpackJsonp||[]).push([[823,63,1158],{"0F22":function(e,t,n){"use strict";n.r(t);var i=n("ewH8"),a=n("yi8e"),r=n("GiFX"),s=n("lRsd"),o=n("Ly6N"),l=n("ND+z"),c=n("1cpz"),u=n("30su"),d=n("4lAS"),h=n("MV2A"),f=n("NmEs"),p=n("/lV4");const m=n("ygVz").b.mixin();var g={beginnerLink:"https://about.gitlab.com/blog/2018/01/22/a-beginners-guide-to-continuous-integration/",goToTrackValuePipelines:10,goToTrackValueMergeRequest:20,trackEvent:"click_button",components:{GlModal:c.a,GlSprintf:u.a,GlButton:d.a,GlLink:h.a},mixins:[m],props:{goToPipelinesPath:{type:String,required:!0},projectMergeRequestsPath:{type:String,required:!1,default:""},commitCookie:{type:String,required:!0},humanAccess:{type:String,required:!0},exampleLink:{type:String,required:!0},codeQualityLink:{type:String,required:!0}},data:()=>({trackLabel:"congratulate_first_pipeline"}),computed:{tracking(){return{label:this.trackLabel,property:this.humanAccess}},goToMergeRequestPath(){return this.commitCookiePath||this.projectMergeRequestsPath},commitCookiePath(){const e=Object(f.m)(this.commitCookie);return"true"!==e?e:""}},i18n:{modalTitle:Object(p.a)("That's it, well done!"),pipelinesButton:Object(p.g)("MR widget|See your pipeline in action"),mergeRequestButton:Object(p.g)("MR widget|Back to the merge request"),bodyMessage:Object(p.g)("MR widget|The pipeline will test your code on every commit. A %{codeQualityLinkStart}code quality report%{codeQualityLinkEnd} will appear in your merge requests to warn you about potential code degradations."),helpMessage:Object(p.g)("MR widget|Take a look at our %{beginnerLinkStart}Beginner's Guide to Continuous Integration%{beginnerLinkEnd} and our %{exampleLinkStart}examples of GitLab CI/CD%{exampleLinkEnd} to learn more.")},mounted(){this.track(),this.disableModalFromRenderingAgain()},methods:{disableModalFromRenderingAgain(){Object(f.L)(this.commitCookie)}}},b=n("tBpV"),v=Object(b.a)(g,(function(){var e=this,t=e._self._c;return t("gl-modal",{attrs:{visible:"",size:"sm","modal-id":"success-pipeline-modal-id-not-used"},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v("\n    "+e._s(e.$options.i18n.modalTitle)+"\n    "),t("gl-emoji",{staticClass:"gl-vertical-align-baseline gl-reset-font-size gl-mr-1",attrs:{"data-name":"tada"}})]},proxy:!0},{key:"modal-footer",fn:function(){return[e.projectMergeRequestsPath?t("gl-button",{ref:"goToMergeRequest",attrs:{href:e.goToMergeRequestPath,"data-track-property":e.humanAccess,"data-track-value":e.$options.goToTrackValueMergeRequest,"data-track-action":e.$options.trackEvent,"data-track-label":e.trackLabel}},[e._v("\n      "+e._s(e.$options.i18n.mergeRequestButton)+"\n    ")]):e._e(),e._v(" "),t("gl-button",{ref:"goToPipelines",attrs:{href:e.goToPipelinesPath,variant:"confirm","data-track-property":e.humanAccess,"data-track-value":e.$options.goToTrackValuePipelines,"data-track-action":e.$options.trackEvent,"data-track-label":e.trackLabel}},[e._v("\n      "+e._s(e.$options.i18n.pipelinesButton)+"\n    ")])]},proxy:!0}])},[e._v(" "),t("p",[t("gl-sprintf",{attrs:{message:e.$options.i18n.bodyMessage},scopedSlots:e._u([{key:"codeQualityLink",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.codeQualityLink,target:"_blank"}},[e._v(e._s(n))])]}}])})],1),e._v(" "),t("gl-sprintf",{attrs:{message:e.$options.i18n.helpMessage},scopedSlots:e._u([{key:"beginnerLink",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.$options.beginnerLink,target:"_blank"}},[e._v("\n        "+e._s(n)+"\n      ")])]}},{key:"exampleLink",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.exampleLink,target:"_blank"}},[e._v("\n        "+e._s(n)+"\n      ")])]}}])})],1)}),[],!1,null,null,null).exports,k=n("MA/v"),y=n("cE/5"),S=n("5v28"),w=n("YiZF"),O=n("gpiL"),j=n("m4yQ"),_=n("PPqY"),C=n("kYRv"),E=(n("ILhG"),n("Iixh")),P=n("2o4f"),T=n("lOtA"),R=n("3twG"),I=n("c0EM"),x=n("b4aW");i.default.use(a.b),i.default.use(r.b),i.default.use(s.a);const N=new r.b({defaultClient:Object(S.b)()}),D=new s.a({mode:"history"}),B=document.querySelector("#js-view-blob-app");if(function(){const e=document.getElementById("js-tree-ref-switcher");if(!e)return!1;const{projectId:t,projectRootPath:n,ref:a,refType:r}=e.dataset;new i.default({el:e,render:e=>e(T.a,{props:{projectId:t,value:r?Object(R.D)("refs",r,a):a,useSymbolicRefNames:!0,queryParams:{sort:"updated_desc"}},on:{input(e){Object(R.V)(Object(P.a)(n,a,e))}}})})}(),Object(x.a)(),B){const{blobPath:e,projectPath:t,targetBranch:n,originalBranch:a,resourceId:r,userId:s,explainCodeAvailable:l,refType:c,...u}=B.dataset;new i.default({el:B,store:Object(E.a)(),router:D,apolloProvider:N,provide:{highlightWorker:new I.a,targetBranch:n,originalBranch:a,resourceId:r,userId:s,explainCodeAvailable:Object(f.J)(l),...Object(o.a)(u)},render:n=>n(C.a,{props:{path:e,projectPath:t,refType:c}})}),Object(k.initAuxiliaryViewer)(),Object(w.a)()}else new k.BlobViewer,Object(w.a)();!function(){const e=document.getElementById("js-fork-info");if(!e)return null;const{projectPath:t,selectedBranch:n,sourceName:a,sourcePath:r,sourceDefaultBranch:s,canSyncBranch:o,aheadComparePath:l,behindComparePath:c,createMrPath:u,viewMrPath:d}=e.dataset;new i.default({el:e,apolloProvider:N,render:e=>e(O.a,{props:{canSyncBranch:Object(f.J)(o),projectPath:t,selectedBranch:n,sourceName:a,sourcePath:r,sourceDefaultBranch:s,aheadComparePath:l,behindComparePath:c,createMrPath:u,viewMrPath:d}})})}();const q=document.querySelector(".js-commit-pipeline-status"),A=document.querySelector(".js-ci-status-badge-legacy");A&&(A.remove(),new i.default({el:q,components:{CommitPipelineStatus:_.a},render:e=>e("commit-pipeline-status",{props:{endpoint:q.dataset.endpoint}})})),Object(j.default)({el:document.getElementById("js-blob-web-ide-link")}),y.a.fetch();const M=document.getElementById("js-code-navigation");if(M&&!B){const{codeNavigationPath:e,blobPath:t,definitionPathPrefix:i}=M.dataset;n.e(1323).then(n.bind(null,"uOOt")).then((function(n){return n.default({blobs:[{path:t,codeNavigationPath:e}],definitionPathPrefix:i})}))}const L=document.querySelector(".js-success-pipeline-modal");L&&new i.default({el:L,render:e=>e(v,{props:{...L.dataset}})});const F=document.querySelector(".js-table-contents");F&&new i.default({el:F,render:e=>e(l.a)});var $=n("mD7r"),V=n("vcM6");Object($.a)(),i.default.use(r.b),i.default.use(s.a);const U=new r.b({defaultClient:Object(S.b)()}),G=new s.a({mode:"history"}),H=document.querySelector("#js-code-owners");if(H){const{blobPath:e,projectPath:t,branch:n,canViewBranchRules:a,branchRulesPath:r}=H.dataset;new i.default({el:document.getElementById("js-code-owners"),apolloProvider:U,router:G,render:i=>i(V.a,{props:{filePath:e,projectPath:t,branch:n,canViewBranchRules:a,branchRulesPath:r}})})}},166:function(e,t,n){n("HVBj"),n("tGlJ"),e.exports=n("0F22")},"2o4f":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("lFMf"),n("gOHk"),n("c9hT");var i=n("3twG");function a(e,t,n){const a=new URL(window.location.href),r=a.pathname;let s,o=null,l="/-/tree",c=n;const u=n.match(/^refs\/(heads|tags)\/(.+)/);u&&([,o,c]=u),o?a.searchParams.set("ref_type",o.toLowerCase()):a.searchParams.delete("ref_type");const d=function(e){return new RegExp(`(/-/(blob|tree))/${e}/(.*)`)}(t).exec(r);return d&&([,l,,s]=d),a.pathname=Object(i.D)(e,l,c,s),a.toString()}},"59DU":function(e,t){e.exports=function(e){return null==e}},"6Zpb":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ahead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"behind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSyncing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasConflicts"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:200}};n.loc.source={body:"query getForkDetails($projectPath: ID!, $ref: String) {\n  project(fullPath: $projectPath) {\n    id\n    forkDetails(ref: $ref) {\n      ahead\n      behind\n      isSyncing\n      hasConflicts\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getForkDetails=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"getForkDetails")},"78vh":function(e,t,n){"use strict";var i=n("Q0Js"),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw new a("Cannot delete property "+i(t)+" of "+i(e))}},"86Lb":function(e,t,n){"use strict";var i=n("ZfjD"),a=n("/EoU"),r=n("ejl/"),s=n("sPwa"),o=n("78vh"),l=n("ocV/");i({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=a(this),n=r(t),i=arguments.length;if(i){l(n+i);for(var c=n;c--;){var u=c+i;c in t?t[u]=t[c]:o(t,u)}for(var d=0;d<i;d++)t[d]=arguments[d]}return s(t,n+i)}})},Agcx:function(e,t,n){"use strict";var i=n("o4PY"),a=n.n(i),r=n("4lAS"),s=n("LLbv"),o=n("VpDa"),l=n.n(o),c=n("GuZl"),u={components:{GlButton:r.a},directives:{GlTooltip:s.a},props:{text:{type:String,required:!1,default:""},id:{type:String,required:!1,default:function(){return a()("modal-copy-button-")}},container:{type:String,required:!1,default:""},cssClasses:{type:String,required:!1,default:""},modalId:{type:String,required:!1,default:""},target:{type:String,required:!1,default:""},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"primary"}},computed:{modalDomId(){return this.modalId?"#"+this.modalId:""}},mounted(){var e=this;this.$nextTick((function(){e.clipboard=new l.a(e.$el,{container:document.querySelector(e.modalDomId+" div.modal-content")||document.getElementById(e.container)||document.body}),e.clipboard.on("success",(function(t){e.$root.$emit(c.b,e.id),e.$emit("success",t),t.clearSelection(),t.trigger.blur()})).on("error",(function(t){return e.$emit("error",t)}))}))},destroyed(){this.clipboard&&this.clipboard.destroy()}},d=n("tBpV"),h=Object(d.a)(u,(function(){var e=this;return(0,e._self._c)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:e.tooltipPlacement,container:e.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:e.cssClasses,attrs:{id:e.id,"data-clipboard-target":e.target,"data-clipboard-text":e.text,title:e.title,"aria-label":e.title,category:e.category,icon:"copy-to-clipboard"}})}),[],!1,null,null,null);t.a=h.exports},C5t3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));n("lFMf"),n("gOHk"),n("c9hT");var i,a=n("3twG");const r=null===(i=document.querySelector(".js-per-page"))||void 0===i||null===(i=i.dataset)||void 0===i?void 0:i.blamePerPage,s=function(e,t=r){if(!t)return"";const n=Math.ceil(parseInt(e,10)/parseInt(t,10));return n<=1?"":n},o=function(e,t){if(!t)return"";const n=new URL(e,Object(a.o)());return n.searchParams.set("page",t),n.search}},GY8p:function(e,t){e.exports=function(e,t,n){for(var i=-1,a=null==e?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}},HFsG:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i={};n.r(i),n.d(i,"setEnabledRefTypes",(function(){return c})),n.d(i,"setParams",(function(){return u})),n.d(i,"setUseSymbolicRefNames",(function(){return d})),n.d(i,"setProjectId",(function(){return h})),n.d(i,"setSelectedRef",(function(){return f})),n.d(i,"search",(function(){return p})),n.d(i,"searchBranches",(function(){return m})),n.d(i,"searchTags",(function(){return g})),n.d(i,"searchCommits",(function(){return b}));var a={};n.r(a),n.d(a,"isQueryPossiblyASha",(function(){return v})),n.d(a,"isLoading",(function(){return k}));var r=n("ewH8"),s=n("yi8e"),o=(n("FMw2"),n("qPgm")),l=n("0a87");const c=function({commit:e},t){return e("SET_ENABLED_REF_TYPES",t)},u=function({commit:e},t){return e("SET_PARAMS",t)},d=function({commit:e},t){return e("SET_USE_SYMBOLIC_REF_NAMES",t)},h=function({commit:e},t){return e("SET_PROJECT_ID",t)},f=function({commit:e},t){return e("SET_SELECTED_REF",t)},p=function({state:e,dispatch:t,commit:n},i){n("SET_QUERY",i);const a=function(n,i){e.enabledRefTypes.includes(n)&&t(i)};a(l.e,"searchBranches"),a(l.h,"searchTags"),a(l.f,"searchCommits")},m=function({commit:e,state:t}){e("REQUEST_START"),o.b.branches(t.projectId,t.query,t.params).then((function(t){e("RECEIVE_BRANCHES_SUCCESS",t)})).catch((function(t){e("RECEIVE_BRANCHES_ERROR",t)})).finally((function(){e("REQUEST_FINISH")}))},g=function({commit:e,state:t}){e("REQUEST_START"),o.b.tags(t.projectId,t.query).then((function(t){e("RECEIVE_TAGS_SUCCESS",t)})).catch((function(t){e("RECEIVE_TAGS_ERROR",t)})).finally((function(){e("REQUEST_FINISH")}))},b=function({commit:e,state:t,getters:n}){n.isQueryPossiblyASha?(e("REQUEST_START"),o.b.commit(t.projectId,t.query).then((function(t){e("RECEIVE_COMMITS_SUCCESS",t)})).catch((function(t){e("RECEIVE_COMMITS_ERROR",t)})).finally((function(){e("REQUEST_FINISH")}))):e("RESET_COMMIT_MATCHES")},v=function({query:e}){return/^[0-9a-f]{4,40}$/i.test(e)},k=function({requestCount:e}){return e>0};n("3UXl"),n("iyoE");var y=n("NmEs"),S=n("QwBj"),w={SET_ENABLED_REF_TYPES(e,t){e.enabledRefTypes=t},SET_USE_SYMBOLIC_REF_NAMES(e,t){e.useSymbolicRefNames=t},SET_PARAMS(e,t){e.params=t},SET_PROJECT_ID(e,t){e.projectId=t},SET_SELECTED_REF(e,t){e.selectedRef=t},SET_QUERY(e,t){e.query=t},REQUEST_START(e){e.requestCount+=1},REQUEST_FINISH(e){e.requestCount-=1},RECEIVE_BRANCHES_SUCCESS(e,t){e.matches.branches={list:Object(y.i)(t.data).map((function(t){return{name:t.name,value:e.useSymbolicRefNames?"refs/heads/"+t.name:void 0,default:t.default,protected:t.protected}})),totalCount:parseInt(t.headers[l.l],10),error:null}},RECEIVE_BRANCHES_ERROR(e,t){e.matches.branches={list:[],totalCount:0,error:t}},RECEIVE_TAGS_SUCCESS(e,t){e.matches.tags={list:Object(y.i)(t.data).map((function(t){return{name:t.name,value:e.useSymbolicRefNames?"refs/tags/"+t.name:void 0,protected:t.protected}})),totalCount:parseInt(t.headers[l.l],10),error:null}},RECEIVE_TAGS_ERROR(e,t){e.matches.tags={list:[],totalCount:0,error:t}},RECEIVE_COMMITS_SUCCESS(e,t){const n=Object(y.i)(t.data);e.matches.commits={list:[{name:n.shortId,value:n.id,subtitle:n.title}],totalCount:1,error:null}},RECEIVE_COMMITS_ERROR(e,t){var n;e.matches.commits={list:[],totalCount:0,error:(null===(n=t.response)||void 0===n?void 0:n.status)!==S.h?t:null}},RESET_COMMIT_MATCHES(e){e.matches.commits={list:[],totalCount:0,error:null}}};r.default.use(s.b);t.b=function(){return new s.b.Store({actions:i,getters:a,mutations:w,state:{enabledRefTypes:[],projectId:null,query:"",matches:{branches:{list:[],totalCount:0,error:null},tags:{list:[],totalCount:0,error:null},commits:{list:[],totalCount:0,error:null}},selectedRef:null,params:null,requestCount:0}})};const O=function(){return{namespaced:!0,actions:i,getters:a,mutations:w,state:{enabledRefTypes:[],projectId:null,query:"",matches:{branches:{list:[],totalCount:0,error:null},tags:{list:[],totalCount:0,error:null},commits:{list:[],totalCount:0,error:null}},selectedRef:null,params:null,requestCount:0}}}},ILhG:function(e,t,n){"use strict";var i=n("U5ZW");Object(i.a)()},Ib7s:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getCodeOwnersInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filePath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"codeOwnersPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"blobs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paths"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"filePath"}}]}},{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"codeOwners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:363}};n.loc.source={body:"query getCodeOwnersInfo($projectPath: ID!, $filePath: String!, $ref: String!) {\n  project(fullPath: $projectPath) {\n    id\n    repository {\n      codeOwnersPath(ref: $ref)\n      blobs(paths: [$filePath], ref: $ref) {\n        nodes {\n          id\n          codeOwners {\n            id\n            name\n            webPath\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getCodeOwnersInfo=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"getCodeOwnersInfo")},Iixh:function(e,t,n){"use strict";var i=n("yi8e"),a=(n("ZzK0"),n("z6RN"),n("BzOf"),n("RFHG"),n("xuo1"),n("2ibD"));n("Tznw"),n("IYH6"),n("6yen"),n("OeRx"),n("l/dT"),n("RqS2"),n("Zy7a"),n("cjZU"),n("OAhk"),n("X42P"),n("mHhP"),n("fn0I"),n("UB/6"),n("imhG"),n("B++/"),n("47t/");const r=function({nodeType:e}){return 3===e},s=function(e,t){const n=document.createElement("span");return n.innerText=e,n.classList=t||"",n},o=function(e,t){const n=s();return n.innerHTML=function(e){return e.replace(/ /g,s(" ").outerHTML).replace(/\t/g,s("\t").outerHTML)}(e),n.childNodes.forEach((function(n){return function(e,t,n){if(r(e)&&(i=e.textContent,a=t,(o=i)&&!/^\s*$/.test(o)&&i.trim()===a.trim())){const i=s(t.trim(),n);e.replaceWith(i)}var i,a,o}(n,e,t)})),n.childNodes},l=new Map,c=function(){return l.get("current")},u=function({path:e,d:t,wrapTextNodes:n}){const i=t.start_line+1,a=document.querySelector(`[data-path="${e}"]`).querySelectorAll(`.blob-content #LC${i}, .line_content:not(.old) #LC${i}`);null!=a&&a.length&&a.forEach((function(e){let i=0;n&&e.childNodes.forEach((function(e){e.replaceWith(...o(e.textContent,e.classList))}));const a=[...e.childNodes].find((function({textContent:e}){return i===t.start_char||(i+=e.length,!1)}));a&&!r(a)&&(a.dataset.charIndex=t.start_char,a.dataset.lineIndex=t.start_line,a.classList.add("cursor-pointer","code-navigation","js-code-navigation"),a.closest(".line").classList.add("code-navigation-line"))}))};var d={setInitialData({commit:e},t){e("SET_INITIAL_DATA",t)},requestDataError({commit:e}){e("REQUEST_DATA_ERROR")},fetchData({commit:e,dispatch:t,state:n}){e("REQUEST_DATA"),n.blobs.forEach((function({path:i,codeNavigationPath:r}){a.a.get(r).then((function({data:t}){const a=t.reduce((function(e,t){var a;t.hover&&(e[`${t.start_line}:${t.start_char}`]={...t,definitionLineNumber:parseInt((null===(a=t.definition_path)||void 0===a?void 0:a.split("#L").pop())||0,10)},u({path:i,d:t,wrapTextNodes:n.wrapTextNodes}));return e}),{});e("REQUEST_DATA_SUCCESS",{path:i,normalizedData:a})})).catch((function(){return t("requestDataError")}))}))},showBlobInteractionZones({state:e},t){e.data&&e.data[t]&&Object.values(e.data[t]).forEach((function(n){return u({path:t,d:n,wrapTextNodes:e.wrapTextNodes})}))},showDefinition({commit:e,state:t},{target:n}){let i,a;if(!t.data)return;const r=n.classList.contains("hll");c()&&c().classList.remove("hll");const s=n.closest("[data-path]");if(!s)return void e("SET_CURRENT_DEFINITION",{definition:i,position:a});const o=s.dataset.path,u=t.data[o];if(u){if(n.closest(".js-code-navigation")&&!r){const{lineIndex:e,charIndex:t}=n.dataset,{x:r,y:s}=n.getBoundingClientRect();a={x:r||0,y:s+window.scrollY||0,height:n.offsetHeight,lineIndex:parseInt(e,10)},i=u[`${e}:${t}`],n.classList.add("hll"),function(e){l.set("current",e)}(n)}e("SET_CURRENT_DEFINITION",{definition:i,position:a,blobPath:o})}}},h={SET_INITIAL_DATA(e,{blobs:t,definitionPathPrefix:n,wrapTextNodes:i}){e.blobs=t,e.definitionPathPrefix=n,e.wrapTextNodes=i},REQUEST_DATA(e){e.loading=!0},REQUEST_DATA_SUCCESS(e,{path:t,normalizedData:n}){e.loading=!1,e.data={...e.data,[t]:n}},REQUEST_DATA_ERROR(e){e.loading=!1},SET_CURRENT_DEFINITION(e,{definition:t,position:n,blobPath:i}){e.currentDefinition=t,e.currentDefinitionPosition=n,e.currentBlobPath=i}};t.a=function(){return new i.b.Store({actions:d,mutations:h,state:{blobs:[],loading:!1,data:null,wrapTextNodes:!1,currentDefinition:null,currentDefinitionPosition:null,currentBlobPath:null}})}},JYQl:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},Ly6N:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=function({newWorkspacePath:e}={}){return{newWorkspacePath:e}}},OQnh:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var i,a=n("8ENL"),r=n("0zRR"),s=n("MtBe"),o=n("h3Ey"),l=n("fkuG"),c=n("dOr5"),u=n("o/E4"),d=n("QXXq"),h=n("vI7E"),f=n("7bmO"),p=n("ua/H"),m=n("DXSV"),g=n("6iM1"),b=n("EQ0+"),v=n("lgrP"),k={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},y={enter:function(e){Object(u.F)(e,"height",0),Object(u.B)((function(){Object(u.w)(e),Object(u.F)(e,"height","".concat(e.scrollHeight,"px"))}))},afterEnter:function(e){Object(u.A)(e,"height")},leave:function(e){Object(u.F)(e,"height","auto"),Object(u.F)(e,"display","block"),Object(u.F)(e,"height","".concat(Object(u.i)(e).height,"px")),Object(u.w)(e),Object(u.F)(e,"height",0)},afterLeave:function(e){Object(u.A)(e,"height")}},S={appear:Object(p.b)(l.g,!1)},w=Object(a.c)({name:r.l,functional:!0,props:S,render:function(e,t){var n=t.props,i=t.data,a=t.children;return e("transition",Object(v.a)(i,{props:k,on:y},{props:n}),a)}});function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=Object(d.d)(r.k,"toggle"),E=Object(d.d)(r.k,"request-state"),P=Object(d.e)(r.k,"accordion"),T=Object(d.e)(r.k,"state"),R=Object(d.e)(r.k,"sync-state"),I=Object(h.a)("visible",{type:l.g,defaultValue:!1}),x=I.mixin,N=I.props,D=I.prop,B=I.event,q=Object(p.c)(Object(f.m)(j(j(j({},m.b),N),{},{accordion:Object(p.b)(l.r),appear:Object(p.b)(l.g,!1),isNav:Object(p.b)(l.g,!1),tag:Object(p.b)(l.r,"div")})),r.k),A=Object(a.c)({name:r.k,mixins:[m.a,x,b.a,g.a],props:q,data:function(){return{show:this[D],transitioning:!1}},computed:{classObject:function(){var e=this.transitioning;return{"navbar-collapse":this.isNav,collapse:!e,show:this.show&&!e}},slotScope:function(){var e=this;return{visible:this.show,close:function(){e.show=!1}}}},watch:(i={},_(i,D,(function(e){e!==this.show&&(this.show=e)})),_(i,"show",(function(e,t){e!==t&&this.emitState()})),i),created:function(){this.show=this[D]},mounted:function(){var e=this;this.show=this[D],this.listenOnRoot(C,this.handleToggleEvent),this.listenOnRoot(P,this.handleAccordionEvent),this.isNav&&(this.setWindowEvents(!0),this.handleResize()),this.$nextTick((function(){e.emitState()})),this.listenOnRoot(E,(function(t){t===e.safeId()&&e.$nextTick(e.emitSync)}))},updated:function(){this.emitSync()},deactivated:function(){this.isNav&&this.setWindowEvents(!1)},activated:function(){this.isNav&&this.setWindowEvents(!0),this.emitSync()},beforeDestroy:function(){this.show=!1,this.isNav&&s.h&&this.setWindowEvents(!1)},methods:{setWindowEvents:function(e){Object(d.c)(e,window,"resize",this.handleResize,o.U),Object(d.c)(e,window,"orientationchange",this.handleResize,o.U)},toggle:function(){this.show=!this.show},onEnter:function(){this.transitioning=!0,this.$emit(o.M)},onAfterEnter:function(){this.transitioning=!1,this.$emit(o.N)},onLeave:function(){this.transitioning=!0,this.$emit(o.t)},onAfterLeave:function(){this.transitioning=!1,this.$emit(o.s)},emitState:function(){var e=this.show,t=this.accordion,n=this.safeId();this.$emit(B,e),this.emitOnRoot(T,n,e),t&&e&&this.emitOnRoot(P,n,t)},emitSync:function(){this.emitOnRoot(R,this.safeId(),this.show)},checkDisplayBlock:function(){var e=this.$el,t=Object(u.p)(e,"show");Object(u.y)(e,"show");var n="block"===Object(u.k)(e).display;return t&&Object(u.b)(e,"show"),n},clickHandler:function(e){var t=e.target;this.isNav&&t&&"block"===Object(u.k)(this.$el).display&&(!Object(u.v)(t,".nav-link,.dropdown-item")&&!Object(u.e)(".nav-link,.dropdown-item",t)||this.checkDisplayBlock()||(this.show=!1))},handleToggleEvent:function(e){e===this.safeId()&&this.toggle()},handleAccordionEvent:function(e,t){var n=this.accordion,i=this.show;if(n&&n===t){var a=e===this.safeId();(a&&!i||!a&&i)&&this.toggle()}},handleResize:function(){this.show="block"===Object(u.k)(this.$el).display}},render:function(e){var t=this.appear,n=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()},on:{click:this.clickHandler}},this.normalizeSlot(c.e,this.slotScope));return e(w,{props:{appear:t},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[n])}})},PFaH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("RFHG"),n("z6RN"),n("xuo1");var i=n("/lV4");const a=function(e,{onlyCommas:t=!1}={}){return 0===e.length?"":1===e.length?Object(i.h)(Object(i.g)("nounSeries|%{item}"),{item:e[0]},!1):2!==e.length||t?e.reduce((function(n,a,r){return r!==e.length-1||t?Object(i.h)(Object(i.g)("nounSeries|%{item}, %{nextItem}"),{item:n,nextItem:a},!1):Object(i.h)(Object(i.g)("nounSeries|%{item}, and %{lastItem}"),{item:n,lastItem:a},!1)})):Object(i.h)(Object(i.g)("nounSeries|%{firstItem} and %{lastItem}"),{firstItem:e[0],lastItem:e[1]},!1)}},PPqY:function(e,t,n){"use strict";var i=n("LLbv"),a=n("FkSe"),r=n("99pJ"),s=n.n(r),o=n("jlnU"),l=n("hqF9"),c=n("/lV4"),u=n("iM2x"),d=n("2ibD");class h{constructor(e){this.endpoint=e}fetchData(){return d.a.get(this.endpoint)}}var f={directives:{GlTooltip:i.a},components:{CiIcon:u.a,GlLoadingIcon:a.a},props:{endpoint:{type:String,required:!0}},data:()=>({ciStatus:{},isLoading:!0}),computed:{statusTitle(){return Object(c.h)(Object(c.g)("PipelineStatusTooltip|Pipeline: %{ciStatus}"),{ciStatus:this.ciStatus.text})}},mounted(){this.service=new h(this.endpoint),this.initPolling()},beforeDestroy(){this.poll.stop()},methods:{successCallback(e){const{pipelines:t}=e.data;t.length>0&&(this.ciStatus=t[0].details.status),this.isLoading=!1},errorCallback(){this.ciStatus={text:Object(c.a)("not found"),icon:"status_notfound",group:"notfound"},this.isLoading=!1,Object(o.createAlert)({message:Object(c.a)("Something went wrong on our end")})},initPolling(){var e=this;this.poll=new l.a({resource:this.service,method:"fetchData",successCallback:function(t){return e.successCallback(t)},errorCallback:this.errorCallback}),s.a.hidden()?this.fetchPipelineCommitData():(this.isLoading=!0,this.poll.makeRequest()),s.a.change((function(){s.a.hidden()?e.poll.stop():e.poll.restart()}))},fetchPipelineCommitData(){this.service.fetchData().then(this.successCallback).catch(this.errorCallback)}}},p=n("tBpV"),m=Object(p.a)(f,(function(){var e=this._self._c;return e("div",{staticClass:"gl-ml-5"},[this.isLoading?e("gl-loading-icon",{attrs:{size:"sm",label:"Loading pipeline status"}}):e("a",{attrs:{href:this.ciStatus.details_path}},[e("ci-icon",{attrs:{status:this.ciStatus,title:this.statusTitle,"aria-label":this.statusTitle}})],1)],1)}),[],!1,null,null,null);t.a=m.exports},QPL1:function(e,t,n){var i=n("pFYY"),a=n("KZGt"),r=n("1XSk"),s=i&&1/r(new i([,-0]))[1]==1/0?function(e){return new i(e)}:a;e.exports=s},Tctl:function(e,t,n){"use strict";var i=n("EmJ/"),a=n.n(i);const r={openButtons:[],forkButtons:[],cancelButtons:[],suggestionSections:[],actionTextPieces:[]};t.a=class{constructor(e){this.elementMap={...r,...e},this.onOpenButtonClick=this.onOpenButtonClick.bind(this),this.onCancelButtonClick=this.onCancelButtonClick.bind(this)}init(){return this.bindEvents(),this}bindEvents(){a()(this.elementMap.openButtons).on("click",this.onOpenButtonClick),a()(this.elementMap.cancelButtons).on("click",this.onCancelButtonClick)}showSuggestionSection(e,t="edit"){a()(this.elementMap.suggestionSections).removeClass("hidden"),a()(this.elementMap.forkButtons).attr("href",e),a()(this.elementMap.actionTextPieces).text(t)}hideSuggestionSection(){a()(this.elementMap.suggestionSections).addClass("hidden")}onOpenButtonClick(e){const t=a()(e.currentTarget).attr("data-fork-path"),n=a()(e.currentTarget).attr("data-action");this.showSuggestionSection(t,n)}onCancelButtonClick(){this.hideSuggestionSection()}destroy(){a()(this.elementMap.openButtons).off("click",this.onOpenButtonClick),a()(this.elementMap.cancelButtons).off("click",this.onCancelButtonClick)}}},U5ZW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("lFMf"),n("gOHk"),n("c9hT");function i(){const{url:e}=gon.sourcegraph||{};if(!e)return;const t=new URL("/assets/webpack/sourcegraph/0.0.95/",window.location.href),n=new URL("scripts/integration.bundle.js",t).href;window.SOURCEGRAPH_ASSETS_URL=t.href,window.SOURCEGRAPH_URL=e,window.SOURCEGRAPH_INTEGRATION="gitlab-integration",function(e){const t=document.createElement("script");t.type="application/javascript",t.src=e,t.defer=!0,document.head.appendChild(t)}(n)}},U6io:function(e,t){!function(e){var t=e.prototype.stopCallback;e.prototype.stopCallback=function(e,n,i){return!!this.paused||t.call(this,e,n,i)},e.prototype.pause=function(){this.paused=!0},e.prototype.unpause=function(){this.paused=!1},e.init()}(Mousetrap)},W8JV:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"syncFork"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectSyncFork"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"targetBranch"},value:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ahead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"behind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSyncing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasConflicts"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};n.loc.source={body:"mutation syncFork($projectPath: ID!, $targetBranch: String!) {\n  projectSyncFork(input: { projectPath: $projectPath, targetBranch: $targetBranch }) {\n    details {\n      ahead\n      behind\n      isSyncing\n      hasConflicts\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.syncFork=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"syncFork")},YiZF:function(e,t,n){"use strict";var i=n("Erny"),a=n("fXLe"),r=n("CX32"),s=n("Tctl"),o=n("erMc"),l=n("0hIY");t.a=function(){new l.a,new o.a(document.querySelector("#blob-content-holder"),".file-line-num[data-line-number], .file-line-num[data-line-number] *",document.querySelectorAll(".js-data-file-blob-permalink-url, .js-blob-blame-link"));const e=document.querySelector(".js-data-file-blob-permalink-url"),t=e&&e.getAttribute("href");Object(i.a)(r.a),Object(i.a)(a.a,{fileBlobPermalinkUrl:t,fileBlobPermalinkUrlElement:e}),new s.a({openButtons:document.querySelectorAll(".js-edit-blob-link-fork-toggler"),forkButtons:document.querySelectorAll(".js-fork-suggestion-button"),cancelButtons:document.querySelectorAll(".js-cancel-fork-suggestion-button"),suggestionSections:document.querySelectorAll(".js-file-fork-suggestion-section"),actionTextPieces:document.querySelectorAll(".js-file-fork-suggestion-section-action")}).init()}},YqVM:function(e,t,n){var i=n("nHTl"),a=n("dA+0");e.exports=function(e,t){return e&&e.length?a(e,i(t,2)):[]}},aOF2:function(e,t,n){"use strict";var i=n("OQnh"),a=n("Pyw5"),r=n.n(a);const s={name:"GlCollapse",components:{BCollapse:i.a},model:{prop:"visible",event:"input"},props:{visible:{type:Boolean,default:!1,required:!1}}};const o=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-collapse",this._g(this._b({attrs:{visible:this.visible}},"b-collapse",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},"as/T":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ewH8"),a=n("FkSe"),r=n("/lV4");const s=function(e){var t;return null===(t=a.a.props[e])||void 0===t?void 0:t.default},o=function({inline:e=s("inline"),color:t=s("color"),size:n=s("size"),classes:o=[],label:l=Object(r.a)("Loading")}={}){const c=document.createElement("div"),u=new i.default({el:c,render:i=>i(a.a,{class:o,props:{inline:e,color:t,size:n,label:l}})});u.$forceUpdate();const d=u.$el.cloneNode(!0);return u.$destroy(),d}},c0EM:function(e,t,n){"use strict";function i(){return new Worker(n.p+"highlight_worker.9b9e5aaa.worker.js")}n.d(t,"a",(function(){return i}))},"cE/5":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("TPye"),n("ZzK0"),n("z6RN"),n("BzOf"),n("UezY"),n("hG7+");var i=n("EmJ/"),a=n.n(i),r=n("jlnU"),s=n("2ibD"),o=n("3twG"),l=n("as/T"),c=n("/lV4");class u{static fetch(){const e=a()(".js-signature-container");if(0===e.length)return Promise.resolve();const t=a()(".js-loading-signature-badge");t.html(Object(l.a)()),t.children().attr("aria-label",Object(c.a)("Loading"));const n=function(){return Object(r.createAlert)({message:Object(c.a)("An error occurred while loading commit signatures")})},i=e.data("signaturesPath");if(!i)return n(),Promise.reject(new Error(Object(c.a)("Missing commit signatures endpoint!")));const u=Object(o.H)(e.serialize());return s.a.get(i,{params:u}).then((function({data:e}){e.signatures.forEach((function(e){t.filter(`[data-commit-sha="${e.commit_sha}"]`).replaceWith(e.html)}))})).catch(n)}}},"dA+0":function(e,t,n){var i=n("4O6w"),a=n("QPeP"),r=n("GY8p"),s=n("5PFN"),o=n("QPL1"),l=n("1XSk");e.exports=function(e,t,n){var c=-1,u=a,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=r;else if(d>=200){var m=t?null:o(e);if(m)return l(m);h=!1,u=s,p=new i}else p=t?[]:f;e:for(;++c<d;){var g=e[c],b=t?t(g):g;if(g=n||0!==g?g:0,h&&b==b){for(var v=p.length;v--;)if(p[v]===b)continue e;t&&p.push(b),f.push(g)}else u(p,b,n)||(p!==f&&p.push(b),f.push(g))}return f}},erMc:function(e,t,n){"use strict";n("ZzK0"),n("z6RN"),n("BzOf");var i=n("3twG"),a=n("C5t3");const r=/^(L|LC)[0-9]+/;t.a=function(e,t,n){if(!e)return;const s=function(){setTimeout((function(){!function(e){const t=Object(i.q)();if(t&&r.test(t)){const n="#"+t;[].concat(Array.prototype.slice.call(e)).forEach((function(e){const i=e.dataset.originalHref||function(){const t=e.getAttribute("href");return e.dataset.originalHref=t,t}(),r=parseInt(t.split("L")[1],10),s=Object(a.a)(r),o=Object(a.b)(i,s);e.setAttribute("href",`${i}${o}${n}`)}))}}(n)}),0)};e.addEventListener("click",(function(e){e.target.matches(t)&&s()})),s()}},fXLe:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("d08M"),a=n("3twG"),r=n("jHQk");const s={fileBlobPermalinkUrl:null,fileBlobPermalinkUrlElement:null};class o{constructor(e,t){const n={...s,...t};this.options=n,this.shortcircuitPermalinkButton(),e.add(i.eb,this.moveToFilePermalink.bind(this))}moveToFilePermalink(){const e=this.options.fileBlobPermalinkUrl;if(e){const t=Object(a.q)(),n=t?"#"+t:"";Object(a.U)(e)&&Object(a.S)({url:`${e}${n}`,title:document.title}),Object(a.T)({url:e})&&Object(r.b)(Object(a.u)({url:e}))}}shortcircuitPermalinkButton(){var e=this;const t=this.options.fileBlobPermalinkUrlElement,n=function(t){var n;(n=t).ctrlKey||n.metaKey||n.shiftKey||(t.preventDefault(),e.moveToFilePermalink())};t&&t.addEventListener("click",n)}}},gpiL:function(e,t,n){"use strict";n("v2fZ");var i=n("s1D3"),a=n("MV2A"),r=n("4lAS"),s=n("30su"),o=n("4+8U"),l=n("FkSe"),c=n("/lV4"),u=n("jlnU"),d=n("W8JV"),h=n.n(d),f=n("JYQl"),p=n("uQq6"),m=n("6Zpb"),g=n.n(m),b=n("1cpz"),v=n("Agcx"),k=n("Mp8J"),y=n("3twG");const S={modalTitle:Object(c.g)("ForksDivergence|Resolve merge conflicts manually"),modalMessage:Object(c.g)("ForksDivergence|The upstream changes could not be synchronized to this project due to file conflicts in the default branch. You must resolve the conflicts manually:"),step1:Object(c.a)("Step 1."),step2:Object(c.a)("Step 2."),step3:Object(c.a)("Step 3."),step4:Object(c.a)("Step 4."),step1Text:Object(c.g)("ForksDivergence|Fetch the latest changes from the upstream repository's default branch:"),step2Text:Object(c.g)("ForksDivergence|Check out to a branch, and merge the changes from the upstream project's default branch. You likely need to resolve conflicts during this step."),step3Text:Object(c.g)("ForksDivergence|Push the updates to remote:"),copyToClipboard:Object(c.a)("Copy to clipboard"),close:Object(c.a)("Close")};var w={name:"ForkSyncConflictsModal",components:{GlModal:b.a,GlButton:r.a,ModalCopyButton:v.a},directives:{SafeHtml:k.a},props:{sourceDefaultBranch:{type:String,required:!1,default:""},sourceName:{type:String,required:!1,default:""},sourcePath:{type:String,required:!1,default:""},selectedBranch:{type:String,required:!0,default:""}},computed:{instructionsStep1(){return`git fetch ${Object(y.o)()}${this.sourcePath} ${this.sourceDefaultBranch}`},instructionsStep2(){return`git checkout ${this.selectedBranch}\ngit merge FETCH_HEAD`}},methods:{show(){this.$refs.modal.show()},hide(){this.$refs.modal.hide()}},i18n:S,instructionsStep3:"git push"},O=n("tBpV"),j=Object(O.a)(w,(function(){var e=this,t=e._self._c;return t("gl-modal",{ref:"modal",attrs:{"modal-id":"fork-sync-conflicts-modal",title:e.$options.i18n.modalTitle,size:"md"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("gl-button",{on:{click:e.hide,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide.apply(null,arguments)}}},[e._v(e._s(e.$options.i18n.close))])]},proxy:!0}])},[t("p",[e._v(e._s(e.$options.i18n.modalMessage))]),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step1))]),e._v(" "+e._s(e.$options.i18n.modalMessage)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-display-flex gl-mb-4"},[t("pre",{staticClass:"gl-w-full gl-mb-0 gl-mr-3",attrs:{"data-testid":"resolve-conflict-instructions"}},[e._v(e._s(e.instructionsStep1))]),e._v(" "),t("modal-copy-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.instructionsStep1,title:e.$options.i18n.copyToClipboard}})],1),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step2))]),e._v(" "+e._s(e.$options.i18n.step2Text)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-display-flex gl-mb-4"},[t("pre",{staticClass:"gl-w-full gl-mb-0 gl-mr-3",attrs:{"data-testid":"resolve-conflict-instructions"}},[e._v(e._s(e.instructionsStep2))]),e._v(" "),t("modal-copy-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.instructionsStep2,title:e.$options.i18n.copyToClipboard}})],1),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step3))]),e._v(" "+e._s(e.$options.i18n.step3Text)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-display-flex gl-mb-4"},[t("pre",{staticClass:"gl-w-full gl-mb-0",attrs:{"data-testid":"resolve-conflict-instructions"}},[e._v(e._s(e.$options.instructionsStep3)+"\n")]),e._v(" "),t("modal-copy-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0 gl-ml-3",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.$options.instructionsStep3,title:e.$options.i18n.copyToClipboard}})],1)])}),[],!1,null,null,null).exports;var _={i18n:{forkedFrom:Object(c.g)("ForkedFromProjectPath|Forked from"),inaccessibleProject:Object(c.g)("ForkedFromProjectPath|Forked from an inaccessible project."),upToDate:Object(c.g)("ForksDivergence|Up to date with the upstream repository."),unknown:Object(c.g)("ForksDivergence|This fork has diverged from the upstream repository."),behind:Object(c.g)("ForksDivergence|%{behindLinkStart}%{behind} %{commit_word} behind%{behindLinkEnd}"),ahead:Object(c.g)("ForksDivergence|%{aheadLinkStart}%{ahead} %{commit_word} ahead%{aheadLinkEnd} of"),behindAhead:Object(c.g)("ForksDivergence|%{messages} the upstream repository."),limitedVisibility:Object(c.g)("ForksDivergence|Source project has a limited visibility."),error:Object(c.g)("ForksDivergence|Failed to fetch fork details. Try again later."),updateFork:Object(c.g)("ForksDivergence|Update fork"),createMergeRequest:Object(c.g)("ForksDivergence|Create merge request"),viewMergeRequest:Object(c.g)("ForksDivergence|View merge request"),successMessage:Object(c.g)("ForksDivergence|Successfully fetched and merged from the upstream repository.")},components:{GlIcon:i.a,GlLink:a.a,GlButton:r.a,GlSprintf:s.a,GlSkeletonLoader:o.a,ConflictsModal:j,GlLoadingIcon:l.a},apollo:{project:{query:g.a,notifyOnNetworkStatusChange:!0,variables(){return this.forkDetailsQueryVariables},skip(){return!this.sourceName},error(e){Object(u.createAlert)({message:this.$options.i18n.error,captureError:!0,error:e})},result({loading:e}){!e&&this.isSyncing&&this.increasePollInterval(),this.isForkUpdated&&(Object(u.createAlert)({message:this.$options.i18n.successMessage,variant:u.VARIANT_INFO}),f.a.$emit(p.g))},pollInterval(){return this.pollInterval}}},props:{projectPath:{type:String,required:!0},selectedBranch:{type:String,required:!0},sourceDefaultBranch:{type:String,required:!1,default:""},sourceName:{type:String,required:!1,default:""},sourcePath:{type:String,required:!1,default:""},canSyncBranch:{type:Boolean,required:!1,default:!1},aheadComparePath:{type:String,required:!1,default:""},behindComparePath:{type:String,required:!1,default:""},createMrPath:{type:String,required:!1,default:""},viewMrPath:{type:String,required:!1,default:""}},data:()=>({project:{},currentPollInterval:null}),computed:{forkDetailsQueryVariables(){return{projectPath:this.projectPath,ref:this.selectedBranch}},pollInterval(){return this.isSyncing?this.currentPollInterval:0},isLoading(){return this.$apollo.queries.project.loading},forkDetails(){var e;return null===(e=this.project)||void 0===e?void 0:e.forkDetails},hasConflicts(){var e;return null===(e=this.forkDetails)||void 0===e?void 0:e.hasConflicts},isSyncing(){var e;return null===(e=this.forkDetails)||void 0===e?void 0:e.isSyncing},isForkUpdated(){return this.isUpToDate&&this.currentPollInterval},ahead(){var e;return null===(e=this.project)||void 0===e||null===(e=e.forkDetails)||void 0===e?void 0:e.ahead},behind(){var e;return null===(e=this.project)||void 0===e||null===(e=e.forkDetails)||void 0===e?void 0:e.behind},behindText(){return Object(c.h)(this.$options.i18n.behind,{behind:this.behind,commit_word:Object(c.f)("commit","commits",this.behind)})},aheadText(){return Object(c.h)(this.$options.i18n.ahead,{ahead:this.ahead,commit_word:Object(c.f)("commit","commits",this.ahead)})},isUnknownDivergence(){return this.sourceName&&null===this.ahead&&null===this.behind},isUpToDate(){return 0===this.ahead&&0===this.behind},behindAheadMessage(){const e=[];return this.behind>0&&e.push(this.behindText),this.ahead>0&&e.push(this.aheadText),e.join(", ")},hasBehindAheadMessage(){return this.behindAheadMessage.length>0},hasUpdateButton(){return this.canSyncBranch&&(this.sourceName&&this.forkDetails&&this.behind||this.isUnknownDivergence)},hasCreateMrButton(){return this.ahead&&this.createMrPath},hasViewMrButton(){return this.viewMrPath},forkDivergenceMessage(){return this.forkDetails?this.isUnknownDivergence?this.$options.i18n.unknown:this.hasBehindAheadMessage?Object(c.h)(this.$options.i18n.behindAhead,{messages:this.behindAheadMessage}):this.$options.i18n.upToDate:this.$options.i18n.limitedVisibility}},watch:{hasConflicts(e){e&&this.currentPollInterval&&this.showConflictsModal()}},methods:{async syncForkWithPolling(){var e=this;await this.$apollo.mutate({mutation:h.a,variables:{projectPath:this.projectPath,targetBranch:this.selectedBranch},error(e){Object(u.createAlert)({message:e.message,captureError:!0,error:e})},update:function(t,{data:{projectSyncFork:n}}){const{details:i}=n;t.writeQuery({query:g.a,variables:e.forkDetailsQueryVariables,data:{project:{id:e.project.id,forkDetails:i}}})}})},showConflictsModal(){this.$refs.modal.show()},startSyncing(){this.syncForkWithPolling()},checkIfSyncIsPossible(){this.hasConflicts?this.showConflictsModal():this.startSyncing()},increasePollInterval(){const e=p.p,t=this.currentPollInterval,n=Math.min(t*e,p.f);this.currentPollInterval=this.currentPollInterval?n:p.q}}},C=Object(O.a)(_,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"info-well gl-sm-display-flex gl-flex-direction-column"},[t("div",{staticClass:"well-segment gl-p-5 gl-w-full gl-display-flex"},[t("gl-icon",{staticClass:"gl-display-block gl-m-4 gl-text-center",attrs:{name:"fork",size:16}}),e._v(" "),t("div",{staticClass:"gl-display-flex gl-justify-content-space-between gl-align-items-center gl-flex-grow-1"},[e.sourceName?t("div",[e._v("\n        "+e._s(e.$options.i18n.forkedFrom)+"\n        "),t("gl-link",{attrs:{"data-testid":"forked-from-link",href:e.sourcePath}},[e._v(e._s(e.sourceName))]),e._v(" "),e.isLoading?t("gl-skeleton-loader",{attrs:{lines:1}}):t("div",{staticClass:"gl-text-secondary",attrs:{"data-testid":"divergence-message"}},[t("gl-sprintf",{attrs:{message:e.forkDivergenceMessage},scopedSlots:e._u([{key:"aheadLink",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.aheadComparePath}},[e._v(e._s(n))])]}},{key:"behindLink",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.behindComparePath}},[e._v(e._s(n))])]}}],null,!1,921789833)})],1)],1):t("div",{staticClass:"gl-align-items-center gl-display-flex",attrs:{"data-testid":"inaccessible-project"}},[e._v("\n        "+e._s(e.$options.i18n.inaccessibleProject)+"\n      ")]),e._v(" "),t("div",{staticClass:"gl-display-none gl-sm-display-flex"},[e.hasCreateMrButton?t("gl-button",{staticClass:"gl-ml-4",attrs:{href:e.createMrPath,"data-testid":"create-mr-button"}},[t("span",[e._v(e._s(e.$options.i18n.createMergeRequest))])]):e._e(),e._v(" "),e.hasViewMrButton?t("gl-button",{staticClass:"gl-ml-4",attrs:{href:e.viewMrPath,"data-testid":"view-mr-button"}},[t("span",[e._v(e._s(e.$options.i18n.viewMergeRequest))])]):e._e(),e._v(" "),e.hasUpdateButton?t("gl-button",{staticClass:"gl-ml-4",attrs:{disabled:e.forkDetails.isSyncing,"data-testid":"update-fork-button"},on:{click:e.checkIfSyncIsPossible}},[e.forkDetails.isSyncing?t("gl-loading-icon",{staticClass:"gl-display-inline",attrs:{size:"sm"}}):e._e(),e._v(" "),t("span",[e._v(e._s(e.$options.i18n.updateFork))])],1):e._e()],1),e._v(" "),t("conflicts-modal",{ref:"modal",attrs:{"selected-branch":e.selectedBranch,"source-name":e.sourceName,"source-path":e.sourcePath,"source-default-branch":e.sourceDefaultBranch}})],1)],1)])}),[],!1,null,null,null);t.a=C.exports},hqF9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("NmEs"),a=n("QwBj");class r{constructor(e={}){this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}checkConditions(e){var t=this;const n=Object(i.I)(e.headers),r=parseInt(n[this.intervalHeader],10);r>0&&-1!==a.o.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),r)),this.options.successCallback(e)}makeDelayedRequest(e=0){var t=this;this.timeoutID=setTimeout((function(){return t.makeRequest()}),e)}makeRequest(){var e=this;const{resource:t,method:n,data:i,errorCallback:r,notificationCallback:s}=this.options;return s(!0),t[n](i).then((function(t){e.checkConditions(t),s(!1)})).catch((function(e){s(!1),e.status!==a.a&&r(e)}))}stop(){this.canPoll=!1,clearTimeout(this.timeoutID)}enable(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}restart(e){this.enable(e),this.makeRequest()}}},iM2x:function(e,t,n){"use strict";var i=n("Lzak"),a=n("s1D3"),r=n("LLbv"),s={components:{GlBadge:i.a,GlIcon:a.a},directives:{GlTooltip:r.a},props:{status:{type:Object,required:!0,validator(e){const{icon:t}=e;return"string"==typeof t&&t.startsWith("status_")}},showStatusText:{type:Boolean,required:!1,default:!1},showTooltip:{type:Boolean,required:!1,default:!0},useLink:{type:Boolean,default:!0,required:!1}},computed:{title(){var e;return this.showTooltip?this.showStatusText?null:null===(e=this.status)||void 0===e?void 0:e.text:null},ariaLabel(){var e;return this.showStatusText?null:null===(e=this.status)||void 0===e?void 0:e.text},href(){return this.useLink?this.status.detailsPath||this.status.details_path:null},icon(){return this.status.icon?this.status.icon+"_borderless":null},variant(){switch(this.status.icon){case"status_success":return"success";case"status_warning":case"status_pending":return"warning";case"status_failed":return"danger";case"status_running":return"info";default:return"neutral"}}}},o=n("tBpV"),l=Object(o.a)(s,(function(){var e=this,t=e._self._c;return t("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ci-icon gl-p-2",class:"ci-icon-variant-"+e.variant,attrs:{variant:e.variant,title:e.title,"aria-label":e.ariaLabel,href:e.href,size:"md","data-testid":"ci-icon"},on:{click:function(t){return e.$emit("ciStatusBadgeClick")}}},[t("span",{staticClass:"ci-icon-gl-icon-wrapper"},[t("gl-icon",{attrs:{name:e.icon}})],1),e.showStatusText?t("span",{staticClass:"gl-mx-2 gl-white-space-nowrap",attrs:{"data-testid":"ci-icon-text"}},[e._v(e._s(e.status.text))]):e._e()])}),[],!1,null,null,null);t.a=l.exports},jHQk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i=function(e,t,n){if(!e)return void(document.title=n+"  GitLab");const i=e.replace(/^\//,""),a=""===i;document.title=`${a?"Files":i}  ${t}  ${n}  GitLab`};function a(e,t=document){const{title:n=""}=t,i=n.split("  ");i.length>1&&(i[1]=e,t.title=i.join("  "))}},lOtA:function(e,t,n){"use strict";n("eJ0a");var i=n("P/Kr"),a=n.n(i),r=n("Tmea"),s=n.n(r),o=(n("LdIe"),n("z6RN"),n("PTOk"),n("FMw2"),n("dHQd"),n("yoDG"),n("KeS/"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("rIA9"),n("MViX"),n("zglm"),n("GDOA"),n("hlbI"),n("a0mT"),n("u3H1"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("7dtT"),n("Rhav"),n("uhEP"),n("eppl"),n("v2fZ"),n("Lzak")),l=n("s1D3"),c=n("crTv"),u=n("yi8e"),d=n("/lV4"),h=n("0a87"),f=n("HFsG");n("3UXl"),n("iyoE");function p(e){return e.map((function(e){return{text:e.name,value:e.value||e.name,protected:e.protected,default:e.default}}))}var m={name:"RefSelector",components:{GlBadge:o.a,GlIcon:l.a,GlCollapsibleListbox:c.a},inheritAttrs:!1,props:{disabled:{type:Boolean,required:!1,default:!1},enabledRefTypes:{type:Array,required:!1,default:function(){return h.a},validator:function(e){return a()(e)&&e.length>0&&e.every((function(e){return h.a.includes(e)}))&&e.length===new Set(e).size}},value:{type:String,required:!1,default:""},queryParams:{type:Object,required:!1,default:function(){}},projectId:{type:String,required:!0},translations:{type:Object,required:!1,default:function(){return{}}},useSymbolicRefNames:{type:Boolean,required:!1,default:!1},state:{type:Boolean,required:!1,default:!0},name:{type:String,required:!1,default:""},toggleButtonClass:{type:[String,Object,Array],required:!1,default:null}},data:()=>({query:""}),computed:{...Object(u.f)({matches:function(e){return e.matches},lastQuery:function(e){return e.query},selectedRef:function(e){return e.selectedRef},params:function(e){return e.params}}),...Object(u.d)(["isLoading","isQueryPossiblyASha"]),i18n(){return{...h.d,...this.translations}},listBoxItems(){return function(e,t,n){const i=[],a=function(e,t){e&&e.length>0&&i.push({text:t,options:p(e)})};return a(e,h.d.branches),a(t,h.d.tags),a(n,h.d.commits),i}(this.branches,this.tags,this.commits)},branches(){return this.enabledRefTypes.includes(h.e)?this.matches.branches.list:[]},tags(){return this.enabledRefTypes.includes(h.h)?this.matches.tags.list:[]},commits(){return this.enabledRefTypes.includes(h.f)?this.matches.commits.list:[]},extendedToggleButtonClass(){const e=[{"gl-inset-border-1-red-500!":!this.state,"gl-font-monospace":Boolean(this.selectedRef)},"gl-mb-0"];return Array.isArray(this.toggleButtonClass)?e.push(...this.toggleButtonClass):e.push(this.toggleButtonClass),e},footerSlotProps(){return{isLoading:this.isLoading,matches:this.matches,query:this.lastQuery}},errors(){return function(e,t,n){const i=[];return e&&e.error&&i.push(h.d.branchesErrorMessage),t&&t.error&&i.push(h.d.tagsErrorMessage),n&&n.error&&i.push(h.d.commitsErrorMessage),i}(this.matches.branches,this.matches.tags,this.matches.commits)},selectedRefForDisplay(){return this.useSymbolicRefNames&&this.selectedRef?this.selectedRef.replace(/^refs\/(tags|heads)\//,""):this.selectedRef},buttonText(){return this.selectedRefForDisplay||this.i18n.noRefSelected},noResultsMessage(){return this.lastQuery?Object(d.h)(this.i18n.noResultsWithQuery,{query:this.lastQuery}):this.i18n.noResults},dropdownIcon(){let e;return this.selectedRef.includes("refs/"+h.j)?e=h.k:this.selectedRef.includes("refs/"+h.b)&&(e=h.c),e}},watch:{value:{immediate:!0,handler(){this.value!==this.selectedRef&&this.setSelectedRef(this.value)}}},beforeCreate(){this.$store=Object(f.b)()},created(){var e=this;this.debouncedSearch=s()(this.search,h.i),this.setProjectId(this.projectId),this.setParams(this.queryParams),this.$watch("enabledRefTypes",(function(){e.setEnabledRefTypes(e.enabledRefTypes),e.search()}),{immediate:!0}),this.$watch("useSymbolicRefNames",(function(){return e.setUseSymbolicRefNames(e.useSymbolicRefNames)}),{immediate:!0})},methods:{...Object(u.c)(["setEnabledRefTypes","setUseSymbolicRefNames","setParams","setProjectId","setSelectedRef"]),...Object(u.c)({storeSearch:"search"}),onSearchBoxInput(e=""){this.query=null==e?void 0:e.trim(),this.debouncedSearch()},selectRef(e){this.disabled||(this.setSelectedRef(e),this.$emit("input",this.selectedRef))},search(){this.storeSearch(this.query)},totalCountText(e){return e>999?this.i18n.totalCountLabel:""+e}}},g=n("tBpV"),b=Object(g.a)(m,(function(){var e=this,t=e._self._c;return t("div",[t("gl-collapsible-listbox",e._g(e._b({staticClass:"ref-selector gl-w-full",attrs:{block:"",searchable:"",selected:e.selectedRef,"header-text":e.i18n.dropdownHeader,items:e.listBoxItems,"no-results-text":e.noResultsMessage,searching:e.isLoading,"search-placeholder":e.i18n.searchPlaceholder,"toggle-class":e.extendedToggleButtonClass,"toggle-text":e.buttonText,icon:e.dropdownIcon,disabled:e.disabled},on:{hidden:function(t){return e.$emit("hide")},search:e.onSearchBoxInput,select:e.selectRef},scopedSlots:e._u([{key:"group-label",fn:function({group:n}){return[e._v("\n      "+e._s(n.text)+" "),t("gl-badge",{attrs:{size:"sm"}},[e._v(e._s(e.totalCountText(n.options.length)))])]}},{key:"list-item",fn:function({item:n}){return[e._v("\n      "+e._s(n.text)+"\n      "),n.default?t("gl-badge",{attrs:{size:"sm",variant:"info"}},[e._v(e._s(e.i18n.defaultLabelText))]):e._e(),e._v(" "),n.protected?t("gl-badge",{attrs:{size:"sm",variant:"neutral"}},[e._v(e._s(e.i18n.protectedLabelText))]):e._e()]}},{key:"footer",fn:function(){return[e._t("footer",null,null,e.footerSlotProps),e._v(" "),e._l(e.errors,(function(n){return t("div",{key:n,staticClass:"gl-display-flex gl-align-items-flex-start gl-text-red-500 gl-mx-4 gl-my-3",attrs:{"data-testid":"red-selector-error-list"}},[t("gl-icon",{staticClass:"gl-mr-2 gl-mt-2 gl-flex-shrink-0",attrs:{name:"error"}}),e._v(" "),t("span",[e._v(e._s(n))])],1)}))]},proxy:!0}],null,!0)},"gl-collapsible-listbox",e.$attrs,!1),e.$listeners)),e._v(" "),e.name?t("input",{attrs:{"data-testid":"selected-ref-form-field",type:"hidden",name:e.name},domProps:{value:e.selectedRef}}):e._e()],1)}),[],!1,null,null,null);t.a=b.exports},m4yQ:function(e,t,n){"use strict";n.r(t);n("byxs");var i=n("ewH8"),a=n("GiFX"),r=n("Ly6N"),s=n("NmEs"),o=n("3twG"),l=n("Pyc4"),c=n("5v28");i.default.use(a.b);const u=new a.b({defaultClient:Object(c.b)()});t.default=function({el:e,router:t}){if(!e)return;const{projectPath:n,ref:a,isBlob:c,webIdeUrl:d,...h}=Object(s.i)(JSON.parse(e.dataset.options)),{webIdePromoPopoverImg:f,cssClasses:p}=e.dataset;new i.default({el:e,router:t,apolloProvider:u,provide:{projectPath:n,...Object(r.a)(h)},render(e){var t;return e(l.default,{props:{isBlob:c,webIdePromoPopoverImg:f,webIdeUrl:c?d:Object(o.X)(Object(o.D)("/",n,"edit",a,"-",(null===(t=this.$route)||void 0===t?void 0:t.params.path)||"","/")),projectPath:n,cssClasses:p,...h}})}})}},mD7r:function(e,t,n){"use strict";n("byxs");var i=n("EmJ/"),a=n.n(i),r=n("jlnU"),s=n("2ibD"),o=n("ejAS"),l=n("/lV4");t.a=function(){const e=document.getElementById("js-file-lock");if(e){const{toggle_path:t,path:n}=JSON.parse(e.innerHTML);!function(e,t){a()("a.path-lock").on("click",(async function(n){n.preventDefault();const{dataset:i}=n.target,a="lock"===i.state?Object(l.a)("Are you sure you want to lock %{path}?"):Object(l.a)("Are you sure you want to unlock %{path}?");await Object(o.a)(Object(l.h)(a,{path:t}))&&s.a.post(e,{path:t}).then((function(){window.location.reload()})).catch((function(){return Object(r.createAlert)({message:Object(l.a)("An error occurred while initializing path locks")})}))}))}(t,n)}}},t6Yz:function(e,t,n){var i;!function(a,r,s){if(a){for(var o,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)l[111+h]="f"+h;for(h=0;h<=9;++h)l[h+96]=h.toString();v.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},v.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},v.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},v.prototype.reset=function(){return this._callbacks={},this._directMap={},this},v.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==r&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},v.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);o=null},v.init=function(){var e=v(r);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),a.Mousetrap=v,e.exports&&(e.exports=v),void 0===(i=function(){return v}.call(t,n,t,e))||(e.exports=i)}function f(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(e,t,n){return n||(n=function(){if(!o)for(var e in o={},l)e>95&&e<112||l.hasOwnProperty(e)&&(o[l[e]]=e);return o}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function b(e,t){var n,i,a,r=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),a=0;a<n.length;++a)i=n[a],d[i]&&(i=d[i]),t&&"keypress"!=t&&u[i]&&(i=u[i],r.push("shift")),m(i)&&r.push(i);return{key:i,modifiers:r,action:t=g(i,r,t)}}function v(e){var t=this;if(e=e||r,!(t instanceof v))return new v(e);t.target=e,t._callbacks={},t._directMap={};var n,i={},a=!1,s=!1,o=!1;function l(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(o=!1)}function c(e,n,a,r,s,o){var l,c,u,d,h=[],f=a.type;if(!t._callbacks[e])return[];for("keyup"==f&&m(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(r||!c.seq||i[c.seq]==c.level)&&f==c.action&&("keypress"==f&&!a.metaKey&&!a.ctrlKey||(u=n,d=c.modifiers,u.sort().join(",")===d.sort().join(",")))){var p=!r&&c.combo==s,g=r&&c.seq==r&&c.level==o;(p||g)&&t._callbacks[e].splice(l,1),h.push(c)}return h}function u(e,n,i,a){t.stopCallback(n,n.target||n.srcElement,i,a)||!1===e(n,i)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=p(e);n&&("keyup"!=e.type||a!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):a=!1)}function h(e,t,r,s){function c(t){return function(){o=t,++i[e],clearTimeout(n),n=setTimeout(l,1e3)}}function d(t){u(r,t,e),"keyup"!==s&&(a=p(t)),setTimeout(l,10)}i[e]=0;for(var h=0;h<t.length;++h){var f=h+1===t.length?d:c(s||b(t[h+1]).action);g(t[h],f,s,e,h)}}function g(e,n,i,a,r){t._directMap[e+":"+i]=n;var s,o=(e=e.replace(/\s+/g," ")).split(" ");o.length>1?h(e,o,n,i):(s=b(e,i),t._callbacks[s.key]=t._callbacks[s.key]||[],c(s.key,s.modifiers,{type:s.action},a,e,r),t._callbacks[s.key][a?"unshift":"push"]({callback:n,modifiers:s.modifiers,action:s.action,seq:a,level:r,combo:e}))}t._handleKey=function(e,t,n){var i,a=c(e,t,n),r={},d=0,h=!1;for(i=0;i<a.length;++i)a[i].seq&&(d=Math.max(d,a[i].level));for(i=0;i<a.length;++i)if(a[i].seq){if(a[i].level!=d)continue;h=!0,r[a[i].seq]=1,u(a[i].callback,n,a[i].combo,a[i].seq)}else h||u(a[i].callback,n,a[i].combo);var f="keypress"==n.type&&s;n.type!=o||m(e)||f||l(r),s=h&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)g(e[i],t,n)},f(e,"keypress",d),f(e,"keydown",d),f(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},vcM6:function(e,t,n){"use strict";var i=n("o4PY"),a=n.n(i),r=(n("3UXl"),n("iyoE"),n("s1D3")),s=n("MV2A"),o=n("4lAS"),l=n("Lzak"),c=n("aOF2"),u=n("A7K0"),d=n("30su"),h=n("/lV4"),f=n("jlnU"),p=n("qLpH"),m=n("PFaH"),g=n("Ib7s"),b=n.n(g);var v={i18n:{title:Object(h.g)("CodeOwners|Code owners"),and:Object(h.a)("and"),errorMessage:Object(h.g)("CodeOwners|An error occurred while loading code owners."),manageBranchRules:Object(h.a)("Manage branch rules"),noCodeOwnersText:Object(h.g)("CodeOwners|Assign users and groups as approvers for specific file changes."),helpText:Object(h.g)("CodeOwners|Code owners are users and groups that can approve specific file changes."),learnMore:Object(h.g)("CodeOwners|Learn more."),showAll:Object(h.g)("CodeOwners|Show all"),hideAll:Object(h.g)("CodeOwners|Hide all")},codeOwnersHelpPath:Object(p.a)("user/project/codeowners/index.md"),helpPopoverId:a()("help-popover-"),components:{GlIcon:r.a,GlLink:s.a,GlButton:o.a,GlBadge:l.a,GlCollapse:c.a,GlPopover:u.a,GlSprintf:d.a},apollo:{project:{query:b.a,variables(){return{projectPath:this.projectPath,filePath:this.filePath,ref:this.branch}},skip(){return!this.filePath},error(){Object(f.createAlert)({message:this.$options.i18n.errorMessage})}}},props:{projectPath:{type:String,required:!0},filePath:{type:String,required:!1,default:""},branch:{type:String,required:!1,default:""},canViewBranchRules:{type:Boolean,required:!1,default:!1},branchRulesPath:{type:String,required:!1,default:""}},data:()=>({isCodeOwnersExpanded:!1,project:{}}),computed:{blobInfo(){var e;return null===(e=this.project)||void 0===e||null===(e=e.repository)||void 0===e||null===(e=e.blobs)||void 0===e?void 0:e.nodes[0]},collapseIcon(){return this.isCodeOwnersExpanded?"chevron-down":"chevron-right"},codeOwnersPath(){var e;return null===(e=this.project)||void 0===e||null===(e=e.repository)||void 0===e?void 0:e.codeOwnersPath},codeOwners(){var e;return(null===(e=this.blobInfo)||void 0===e?void 0:e.codeOwners)||[]},codeOwnersTotal(){var e;return null===(e=this.blobInfo)||void 0===e||null===(e=e.codeOwners)||void 0===e?void 0:e.length},toggleText(){return this.isCodeOwnersExpanded?this.$options.i18n.hideAll:this.$options.i18n.showAll},hasCodeOwners(){return this.filePath&&Boolean(this.codeOwners.length)},codeOwnersSprintfMessage(){return Object(m.a)(this.codeOwners.map((function(e,t){return`%{linkStart}${t}%{linkEnd}`})))},isLoading(){return this.$apollo.queries.project.loading}},watch:{filePath(){this.$apollo.queries.project.refetch()}},methods:{toggleCodeOwners(){this.isCodeOwnersExpanded=!this.isCodeOwnersExpanded},getCodeOwner(e){return this.codeOwners[Number(e)]}}},k=n("tBpV"),y=Object(k.a)(v,(function(){var e=this,t=e._self._c;return e.filePath?t("div",{staticClass:"well-segment blob-auxiliary-viewer file-owner-content gl-display-flex gl-justify-content-space-between gl-align-items-center"},[t("div",{staticClass:"gl-display-flex gl-flex-wrap gl-pr-3"},[t("div",[t("gl-icon",{attrs:{name:"users"}}),e._v(" "),t(e.hasCodeOwners?"gl-link":"span",{tag:"component",staticClass:"gl-font-weight-bold gl-text-black-normal!",attrs:{href:e.codeOwnersPath,"data-testid":"codeowners-file-link"}},[e._v(e._s(e.$options.i18n.title)+"\n      ")])],1),e._v(" "),e.hasCodeOwners||e.isLoading?e._e():t("div",{staticClass:"gl-ml-3"},[t("span",{attrs:{"data-testid":"no-codeowners-text"}},[e._v(e._s(e.$options.i18n.noCodeOwnersText))]),e._v(" "),t("gl-link",{attrs:{"data-testid":"codeowners-docs-link",target:"_blank",href:e.$options.codeOwnersHelpPath}},[e._v(e._s(e.$options.i18n.learnMore))])],1),e._v(" "),e.hasCodeOwners&&!e.isLoading?[t("gl-badge",{staticClass:"gl-mx-3",attrs:{size:"sm"}},[e._v(e._s(e.codeOwnersTotal))]),e._v(" "),t("gl-button",{staticClass:"gl-mr-3",attrs:{variant:"link",size:"small","data-testid":"collapse-toggle",icon:e.collapseIcon},on:{click:e.toggleCodeOwners}},[e._v("\n        "+e._s(e.toggleText)+"\n      ")]),e._v(" "),t("gl-collapse",{attrs:{visible:e.isCodeOwnersExpanded,"data-testid":"code-owners-list"}},[t("gl-sprintf",{attrs:{message:e.codeOwnersSprintfMessage},scopedSlots:e._u([{key:"link",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.getCodeOwner(n).webPath,target:"_blank"}},[e._v(e._s(e.getCodeOwner(n).name))])]}}],null,!1,1800976543)})],1)]:e._e()],2),e._v(" "),e.hasCodeOwners?t("gl-button",{staticClass:"gl-ml-auto",attrs:{id:e.$options.helpPopoverId,"aria-label":e.$options.i18n.helpText,category:"tertiary",icon:"question-o","data-testid":"help-popover-trigger"}}):e._e(),e._v(" "),e.hasCodeOwners?t("gl-popover",{attrs:{target:e.$options.helpPopoverId,placement:"top",triggers:"hover focus"}},[e._v("\n    "+e._s(e.$options.i18n.helpText)+"\n    "),t("gl-link",{attrs:{href:e.$options.codeOwnersHelpPath}},[e._v("\n      "+e._s(e.$options.i18n.learnMore)+"\n    ")])],1):e._e(),e._v(" "),e.canViewBranchRules?t("gl-button",{staticClass:"gl-ml-2",attrs:{size:"small",href:e.branchRulesPath,"data-testid":"branch-rules-link"}},[e._v("\n    "+e._s(e.$options.i18n.manageBranchRules)+"\n  ")]):e._e()],1):e._e()}),[],!1,null,null,null);t.a=y.exports}},[[166,1,0,2,4,15,32,114,110,124,134,199]]]);
//# sourceMappingURL=pages.projects.blob.show.690ceeea.chunk.js.map